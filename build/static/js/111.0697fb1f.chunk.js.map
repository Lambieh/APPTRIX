{"version":3,"file":"static/js/111.0697fb1f.chunk.js","mappings":"6LAMA,MAkDA,EAlDeA,KACb,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,KAClCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,IAC7BK,GAAWC,EAAAA,EAAAA,MAmBjB,OACEC,EAAAA,EAAAA,MAAA,QAAMC,SAlBR,SAAeC,GACbA,EAAEC,kBACFC,EAAAA,EAAAA,IAA2BC,EAAAA,GAAMd,EAAOG,GACrCY,MAAKC,UAAiB,IAADC,EACpB,MAAMC,QAA0B,QAAfD,EAAME,EAAKC,YAAI,IAAAH,OAAA,EAATA,EAAWI,cAClCC,aAAaC,QAAQ,MAAOC,KAAKC,UAAUP,IAC3CX,EAAS,SACTD,EAAS,IACTL,EAAS,IACTG,EAAY,GAAG,IAEhBsB,OAAOrB,IACNsB,QAAQC,IAAIvB,GACZC,EAAS,mHAA8B,GAE7C,EAGyBuB,UAAU,cAAaC,SAAA,EAC5CC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,YACJC,EAAAA,EAAAA,KAAA,SACEC,KAAK,QACLC,YAAY,0BACZC,MAAOlC,EACPmC,SAAWC,GAAUnC,EAASmC,EAAMC,OAAOH,UAE7CH,EAAAA,EAAAA,KAAA,SACEC,KAAK,WACLC,YAAY,kBACZC,MAAO/B,EACPgC,SAAWC,GAAUhC,EAAYgC,EAAMC,OAAOH,UAGhDH,EAAAA,EAAAA,KAAA,UAAQC,KAAK,SAASH,UAAU,eAAcC,SAAC,UAG9CzB,GAAQ0B,EAAAA,EAAAA,KAAA,OAAKO,MAAO,CAAEC,MAAO,OAAQT,SAAEzB,IAAe,IACvD0B,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAG,gBAAgBZ,UAAU,aAAYC,SAAC,4FAG3C,ECzCX,EARcY,KAEVX,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,UACzBC,EAAAA,EAAAA,KAAChC,EAAM,K,0FCDb,MASM4C,GAAMC,EAAAA,EAAAA,IATW,CACrBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,gBACnBC,MAAO,+CAIIpC,GAAOqC,EAAAA,EAAAA,IAAQR,GACfS,GAAKC,EAAAA,EAAAA,IAAaV,GAaxB3B,eAAesC,IACpB,MAAMC,GAAYC,EAAAA,EAAAA,IAAWJ,EAAI,UAGjC,aAF2BK,EAAAA,EAAAA,IAAQF,IACLG,KAAKC,KAAKC,GAAQA,EAAIzC,QAEtD,CAEOH,eAAe6C,EAAQC,GAC5B,IACE,MAAMC,QAAeC,EAAAA,EAAAA,KAAOR,EAAAA,EAAAA,IAAWJ,EAAI,QAASU,GAEpD,OADAnC,QAAQC,IAAI,6BAA8BmC,EAAOE,IAC1CF,CACT,CAAE,MAAOpD,GACPgB,QAAQtB,MAAM,0BAA2BM,EAC3C,CACF,C","sources":["Components/Auth/SignIn.tsx","Pages/Login.tsx","firebase.js"],"sourcesContent":["import { signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { FormEvent, useState } from \"react\";\r\nimport { auth } from \"../../firebase.js\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"./SignIn.css\";\r\n\r\nconst SignIn = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  function logIn(e: FormEvent<HTMLFormElement>) {\r\n    e.preventDefault();\r\n    signInWithEmailAndPassword(auth, email, password)\r\n      .then(async (data) => {\r\n        const jwtToken = await data.user?.getIdToken();\r\n        localStorage.setItem(\"key\", JSON.stringify(jwtToken));\r\n        navigate(\"/menu\");\r\n        setError(\"\");\r\n        setEmail(\"\");\r\n        setPassword(\"\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setError(\"Sorry, не нашли ваш аккаунт\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={logIn} className=\"page_signin\">\r\n      <h2>Log in</h2>\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Please enter your email\"\r\n        value={email}\r\n        onChange={(event) => setEmail(event.target.value)}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Repeat password\"\r\n        value={password}\r\n        onChange={(event) => setPassword(event.target.value)}\r\n      />\r\n\r\n      <button type=\"submit\" className=\"style_button\">\r\n        Login\r\n      </button>\r\n      {error ? <div style={{ color: \"red\" }}>{error}</div> : \"\"}\r\n      <Link to=\"/registration\" className=\"link_style\">\r\n        Создать аккаунт\r\n      </Link>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import SignIn from \"../Components/Auth/SignIn\";\r\nimport \"./Login.css\";\r\n\r\nconst Login = () => {\r\n  return (\r\n    <div className=\"login_page\">\r\n      <SignIn />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore, collection, addDoc, getDocs } from \"firebase/firestore\";\r\n\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAf11dSflFQTAsNCo2s-37S-qaBr1opnuQ\",\r\n  authDomain: \"apptrix-22335.firebaseapp.com\",\r\n  projectId: \"apptrix-22335\",\r\n  storageBucket: \"apptrix-22335.appspot.com\",\r\n  messagingSenderId: \"1087599733576\",\r\n  appId: \"1:1087599733576:web:7fb713cc9e3291b962217d\",\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n\r\nexport async function addDish(\r\n  cfg = { name: \"test\", price: 0, description: \"test\", image: \"\" }\r\n) {\r\n  try {\r\n    const docRef = await addDoc(collection(db, \"dishes\"), cfg);\r\n    console.log(\"Document written with ID: \", docRef.id);\r\n  } catch (e) {\r\n    console.error(\"Error adding document: \", e);\r\n  }\r\n}\r\n\r\nexport async function getDishes() {\r\n  const dishesCol = collection(db, \"dishes\");\r\n  const dishSnapshot = await getDocs(dishesCol);\r\n  const dishList = dishSnapshot.docs.map((doc) => doc.data());\r\n  return dishList;\r\n}\r\n\r\nexport async function addCart(cfg) {\r\n  try {\r\n    const docRef = await addDoc(collection(db, \"cart\"), cfg);\r\n    console.log(\"Document written with ID: \", docRef.id);\r\n    return docRef;\r\n  } catch (e) {\r\n    console.error(\"Error adding document: \", e);\r\n  }\r\n}\r\n\r\nexport async function getCart() {\r\n  const cartCol = collection(db, \"cart\");\r\n  const cartSnapshot = await getDocs(cartCol);\r\n  const cartList = cartSnapshot.docs.map((doc) => doc.data());\r\n  return cartList;\r\n}\r\n"],"names":["SignIn","email","setEmail","useState","password","setPassword","error","setError","navigate","useNavigate","_jsxs","onSubmit","e","preventDefault","signInWithEmailAndPassword","auth","then","async","_data$user","jwtToken","data","user","getIdToken","localStorage","setItem","JSON","stringify","catch","console","log","className","children","_jsx","type","placeholder","value","onChange","event","target","style","color","Link","to","Login","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getFirestore","getDishes","dishesCol","collection","getDocs","docs","map","doc","addCart","cfg","docRef","addDoc","id"],"sourceRoot":""}