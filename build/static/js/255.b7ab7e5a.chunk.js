"use strict";(self.webpackChunkapptrix_ts=self.webpackChunkapptrix_ts||[]).push([[255],{255:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var s=a(3),n=a(408),c=a(43),r=a(399),i=a(216),o=a(579);const d=e=>{const[t,a]=(0,c.useState)({street:"",house:"",app:"",sel:""}),n=(0,i.Zp)(),d=(0,s.d4)((e=>e.cart));return(0,o.jsx)("div",{className:"mod_window",onClick:()=>e.setModAct(!1),children:(0,o.jsxs)("div",{className:"mod_content",onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("input",{value:t.street,type:"text",onChange:e=>a({...t,street:e.target.value}),placeholder:"\u0423\u043b\u0438\u0446\u0430"}),(0,o.jsx)("input",{value:t.house,type:"number",onChange:e=>a({...t,house:e.target.value}),placeholder:"\u0414\u043e\u043c"}),(0,o.jsx)("input",{value:t.app,type:"number",onChange:e=>a({...t,app:e.target.value}),placeholder:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),(0,o.jsxs)("select",{children:[(0,o.jsx)("option",{children:"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"}),(0,o.jsx)("option",{children:"\u041a\u0430\u0440\u0442\u043e\u0439 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438"})]}),(0,o.jsx)("button",{className:"btn",onClick:()=>(async e=>{let t={paymentCredentilas:{...e},orders:[...d.cart.map((e=>{let{id:t,...a}=e;return{...a}}))]};console.log(t);const s=await(0,r.U4)(t);a({street:"",house:"",app:"",sel:""}),localStorage.removeItem("persist:root"),n("/order/".concat(null===s||void 0===s?void 0:s.id)),window.location.reload()})(t),children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})})},l=()=>{const[e,t]=(0,c.useState)(!1),a=(0,s.d4)((e=>e.cart)),r=(0,s.wA)();let i=0;return i=a.cart.map((e=>e.count*e.data.price)).reduce(((e,t)=>e+t),0),(0,o.jsxs)("div",{className:"cart_dish_page",children:[a.cart.map((e=>(0,o.jsxs)("div",{className:"one_dish_cart",children:[(0,o.jsx)("img",{src:e.data.image,width:100}),(0,o.jsxs)("div",{className:"one_dish_name",children:[(0,o.jsx)("div",{style:{fontWeight:"bold"},children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:"}),(0,o.jsx)("div",{children:e.data.name})]}),(0,o.jsxs)("div",{className:"one_dish_name",children:[(0,o.jsx)("div",{style:{fontWeight:"bold"},children:"\u0426\u0435\u043d\u0430:"}),(0,o.jsx)("div",{children:e.data.price})]}),(0,o.jsx)("div",{className:"one_dish_name",children:(0,o.jsxs)("div",{className:"one_dish_btn",children:[(0,o.jsx)("button",{className:"btn",onClick:()=>r((0,n.dt)(e)),children:"-"}),e.count,(0,o.jsx)("button",{className:"btn",onClick:()=>r((0,n.U4)(e)),children:"+"})]})})]},e.data.id))),a.cart.length>0?(0,o.jsxs)("div",{className:"order_confirm",children:["\u0421\u0443\u043c\u043c\u0430: ",i,(0,o.jsx)("button",{className:"btn",onClick:()=>t(!0),children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})]}):(0,o.jsx)("div",{className:"cart_null",children:"\u0412\u0430\u0448\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),a.cart.length>0&&e&&(0,o.jsx)(d,{modAct:e,setModAct:t})]})}},399:(e,t,a)=>{a.d(t,{U4:()=>l,db:()=>o,j2:()=>i,x7:()=>d});var s=a(64),n=a(32),c=a(892);const r=(0,s.Wp)({apiKey:"AIzaSyAf11dSflFQTAsNCo2s-37S-qaBr1opnuQ",authDomain:"apptrix-22335.firebaseapp.com",projectId:"apptrix-22335",storageBucket:"apptrix-22335.appspot.com",messagingSenderId:"1087599733576",appId:"1:1087599733576:web:7fb713cc9e3291b962217d"}),i=(0,c.xI)(r),o=(0,n.aU)(r);async function d(){const e=(0,n.rJ)(o,"dishes");return(await(0,n.GG)(e)).docs.map((e=>e.data()))}async function l(e){try{const t=await(0,n.gS)((0,n.rJ)(o,"cart"),e);return console.log("Document written with ID: ",t.id),t}catch(t){console.error("Error adding document: ",t)}}}}]);
//# sourceMappingURL=255.b7ab7e5a.chunk.js.map